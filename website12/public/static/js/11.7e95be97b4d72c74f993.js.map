{"version":3,"sources":["webpack:///src/components/admin/Tags.vue","webpack:///./src/components/admin/Tags.vue?3737","webpack:///./src/components/admin/Tags.vue"],"names":["Tags","data","inputVisible","inputValue","defaultProps","children","label","dialogVisible","index1","tags_id","mounted","this","$store","dispatch","methods","handleClose","value","event","target","innerHTML","indexOf","Close","index","showInput","_this","$nextTick","_","$refs","saveTagInput","input","focus","handleInputConfirm","handleNodeClick","computed","extends_default","Object","vuex_esm","articleTree","get","state","admin_Tags","render","_vm","_h","$createElement","_c","_self","staticClass","_l","tag","key","attrs","closable","disable-transitions","size","type","color","on","close","$event","staticStyle","_v","_s","tags_name","placement","width","model","callback","$$v","expression","text-align","margin","click","_e","ref","blur","nativeOn","keyup","_k","keyCode","props","default-expand-all","node-click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.7e95be97b4d72c74f993.js","sourcesContent":["<template>\n    <div class=\"tags\">\n        <div class=\"add-tags\">\n            <el-tag\n                    :key=\"tag.tags_id\"\n                    v-for=\"(tag, index) in tags\"\n                    closable\n                    :disable-transitions=\"false\"\n                    size=\"medium\"\n                    @close=\"Close(index,tags_id)\"\n                    :type=\"tag.color\"\n\n            >\n                <span style=\"color: #000\">{{tag.tags_name}}</span>\n                <el-popover\n                        placement=\"top\"\n                        width=\"160\"\n                        v-model=\"dialogVisible\"\n                        v-if=\"index === index1\"\n                >\n                    <p>确定删除吗?</p>\n                    <div style=\"text-align: right; margin: 0\">\n                        <el-button size=\"mini\" type=\"text\" @click=\"handleClose({tags_id:tag.tags_id, index}, $event)\">取消</el-button>\n                        <el-button type=\"primary\" size=\"mini\" @click=\"handleClose({tags_id:tag.tags_id, index}, $event)\">确定</el-button>\n                    </div>\n                </el-popover>\n            </el-tag>\n            <el-input\n                    class=\"input-new-tag\"\n                    v-if=\"inputVisible\"\n                    v-model=\"inputValue\"\n                    ref=\"saveTagInput\"\n                    size=\"small\"\n                    @keyup.enter.native=\"handleInputConfirm\"\n                    @blur=\"handleInputConfirm\"\n            >\n            </el-input>\n            <el-button v-else class=\"button-new-tag addTag\" size=\"small\" @click=\"showInput\" >+ 新建标签</el-button>\n        </div>\n        <div class=\"tags-tree\">\n            <el-tree\n                    :data=\"articleTree\"\n                    :props=\"defaultProps\"\n                    @node-click=\"handleNodeClick\"\n                    default-expand-all\n            ></el-tree>\n        </div>\n    </div>\n</template>\n\n\n\n<script>\n    import {mapState} from 'vuex'\n    export default {\n        data() {\n            return {\n                inputVisible: false,\n                inputValue: '',\n\n                defaultProps: {\n                    children: 'children',\n                    label: 'label'\n                },\n                dialogVisible: false,\n                index1: -1,\n                tags_id: ''\n            };\n        },\n        mounted(){\n            this.$store.dispatch('getTags')\n            this.$store.dispatch('getArticleList')\n\n        },\n        methods: {\n            handleClose(value, event) {\n                if (this.dialogVisible && event.target.innerHTML.indexOf('确') !== -1) {\n                    this.$store.dispatch('removeTag', value)\n                    this.dialogVisible = false\n                } else if (this.dialogVisible && event.target.innerHTML.indexOf('取') !== -1) {\n                    this.dialogVisible = false\n                }\n            },\n            Close(index, tags_id){\n                this.dialogVisible = true\n                this.index1 = index\n            },\n\n            showInput() {\n                this.inputVisible = true;\n                this.$nextTick(_ => {\n                    this.$refs.saveTagInput.$refs.input.focus();\n                });\n            },\n\n            handleInputConfirm() {\n                let inputValue = this.inputValue;\n                if (inputValue === '') {\n                    this.inputVisible = false;\n                    return\n                }\n                this.$store.dispatch('addTag', inputValue)\n                this.inputVisible = false;\n                this.inputValue = '';\n            },\n\n            handleNodeClick(data) {\n//                console.log(data);\n            }\n        },\n        computed: {\n            ...mapState(['tags']),\n            articleTree: {\n                get(){\n                    return this.$store.state.articleTree\n                }\n            }\n        }\n    }\n</script>\n<style scoped lang=\"less\">\n    .el-tag {\n        margin-left: 10px;\n        margin-top: 10px;\n    }\n    .button-new-tag {\n        margin-left: 10px;\n        height: 32px;\n        line-height: 30px;\n        padding-top: 0;\n        padding-bottom: 0;\n    }\n    .input-new-tag {\n        width: 80px;\n        margin-left: 10px;\n        margin-top: 10px;\n        vertical-align: bottom;\n    }\n    .tags {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-justify-content: space-around;\n            -ms-flex-pack: distribute;\n                justify-content: space-around;\n        width: 100%;\n        > div {\n            height: 600px;\n            -webkit-box-sizing: border-box;\n            -moz-box-sizing: border-box;\n            box-sizing: border-box;\n            padding: 10px;\n            -webkit-flex-basis: 40%;\n                -ms-flex-preferred-size: 40%;\n                    flex-basis: 40%;\n            overflow: auto;\n        }\n        .add-tags {\n            background-color: #fff;\n            -webkit-flex-wrap: wrap;\n                -ms-flex-wrap: wrap;\n                    flex-wrap: wrap;\n            position: relative;\n            -moz-box-shadow: 4px 4px 40px rgba(0,0,0,.05);\n            -webkit-box-shadow: 4px 4px 40px rgba(0,0,0,.05);\n            box-shadow: 4px 4px 40px rgba(0,0,0,.05);\n            -webkit-border-radius: 3px;\n               -moz-border-radius: 3px;\n                    border-radius: 3px;\n            .addTag {\n                position: absolute;\n                left: 20px;\n                bottom: 20px\n            }\n            .saveTag {\n                position: absolute;\n                right: 20px;\n                bottom: 20px\n            }\n        }\n        .tags-tree {\n            -webkit-flex-basis: 40%;\n                -ms-flex-preferred-size: 40%;\n                    flex-basis: 40%;\n            background-color: #fff;\n            -moz-box-shadow: 4px 4px 40px rgba(0,0,0,.05);\n            -webkit-box-shadow: 4px 4px 40px rgba(0,0,0,.05);\n            box-shadow: 4px 4px 40px rgba(0,0,0,.05);\n            -webkit-border-radius: 3px;\n               -moz-border-radius: 3px;\n                    border-radius: 3px;\n        }\n    }\n    @media screen and (max-width: 760px){\n        .tags {\n            display: -webkit-box;\n            display: -webkit-flex;\n            display: -moz-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-orient: vertical;\n            -webkit-box-direction: normal;\n            -webkit-flex-direction: column;\n               -moz-box-orient: vertical;\n               -moz-box-direction: normal;\n                -ms-flex-direction: column;\n                    flex-direction: column;\n            padding: 10px;\n            -webkit-box-sizing: border-box;\n               -moz-box-sizing: border-box;\n                    box-sizing: border-box;\n            > div {\n                height: 400px;\n            }\n        }\n        .addTag {\n            position: absolute;\n            right: 20px;\n            bottom: 50px\n        }\n    }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/admin/Tags.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags\"},[_c('div',{staticClass:\"add-tags\"},[_vm._l((_vm.tags),function(tag,index){return _c('el-tag',{key:tag.tags_id,attrs:{\"closable\":\"\",\"disable-transitions\":false,\"size\":\"medium\",\"type\":tag.color},on:{\"close\":function($event){_vm.Close(index,_vm.tags_id)}}},[_c('span',{staticStyle:{\"color\":\"#000\"}},[_vm._v(_vm._s(tag.tags_name))]),_vm._v(\" \"),(index === _vm.index1)?_c('el-popover',{attrs:{\"placement\":\"top\",\"width\":\"160\"},model:{value:(_vm.dialogVisible),callback:function ($$v) {_vm.dialogVisible=$$v},expression:\"dialogVisible\"}},[_c('p',[_vm._v(\"确定删除吗?\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){_vm.handleClose({tags_id:tag.tags_id, index: index}, $event)}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleClose({tags_id:tag.tags_id, index: index}, $event)}}},[_vm._v(\"确定\")])],1)]):_vm._e()],1)}),_vm._v(\" \"),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag addTag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ 新建标签\")])],2),_vm._v(\" \"),_c('div',{staticClass:\"tags-tree\"},[_c('el-tree',{attrs:{\"data\":_vm.articleTree,\"props\":_vm.defaultProps,\"default-expand-all\":\"\"},on:{\"node-click\":_vm.handleNodeClick}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-210ac06f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!../node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/Tags.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-210ac06f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Tags.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tags.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tags.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-210ac06f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tags.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-210ac06f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/Tags.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}